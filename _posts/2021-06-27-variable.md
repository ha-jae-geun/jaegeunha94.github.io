---
layout: post
toc: true
title: "자바스크립트 변수"
categories: javascript
tags: [javascript]
author:
  - Jack
---

# 변수 선언 키워드  

## var/let/const  

## 1. var 변수의 특징  

### (1) 변수의 중복 선언이 가능  
```javascript
var name = 'Jack';
var name = 'Jack2'; // 정상 동작

let name = 'Jack';
let name = 'Jack2'; // Uncaught SyntaxError: Identifier 'name' has already been declared

const name = 'Jack';
const name = 'Jack2'; // Uncaught SyntaxError: Identifier 'name' has already been declared
```
  
### (2) var 키워드 생략 가능  
```javascript
var globalVar = 'globalVar';

if (globalVariable === 'global!') {
  globlVar = 'globlVar' // 오타
}

console.log(globalVar) // globalVar!
console.log(globlVar) // globlVar?
```


### (3) 함수레벨 스코프  
* 메모리 누수, 디버깅이 어렵고 가독성이 떨어지는 함수 스코프 레벨 변수  

```javascript
var test = "Jack";
function print() {
    var test2 = "John";
    console.log(test);        //Jack - 전역변수. 출력가능.
    if(true) {
        var test3 = "Tom";
        console.log(test2);    //John - 해당 함수 내 선언한 변수. 출력 가능.
    }
    console.log(test3);        //Tom - 해당 함수 내 선언한 변수. 출력 가능.
}

print();
function printTwo() {
    var test4 = "Michael";
    console.log(test4);    //Michael - 해당 함수 내 선언한 변수. 출력 가능.
    console.log(test);    //전역변수. 출력가능.
    console.log(test2);    //해당 함수 내 선언한 변수가 아님. Error
    console.log(test3);    //해당 함수 내 선언한 변수가 아님. Error
}

printTwo();
```
  

### (4) 호이스팅  
* 호이스팅: 스코프 안에 있는 선언들을 모두 스코프의 최상단으로 끌어올리는 것
* [let은 hoist 안되는게 아니라 TDZ에 들어가 있어 참조에러를 일으킨다.](https://evan-moon.github.io/2019/06/18/javascript-let-const/)  



## 2. let 변수의 특징  
1. 변수의 중복 선언이 불가능하다.
2. let 키워드는 생략이 불가능하다.
3. 블록 레벨 스코프를 사용한다.  

### - 블록레벨 스코프  
* 중괄호{}로 경계를 구분하는 블록레벨 스코프  
  
```javascript
let test = "Jack";
if(true) {
    let test2 = "Tom";
    console.log(test);   //Jack
    console.log(test2);   //Tom
}

console.log(test);   //Jack
console.log(test2);   //Uncaught ReferenceError: test2 is not defined.
```



## 3. const 변수의 특징  
### (1) 값의 재할당이 불가능  
```javascript
const test = 'Hello, World!';
test = 'Bye, World!'; // Uncaught TypeError: Assignment to constant variable.
```
  
### - Call by Reference 값 변경(에러)  
```javascript
const obj = { name: 'Jack' }
obj = { name: 'Jack' } // Uncaught TypeError: Assignment to constant variable.
```
  
### - 객체 내부의 프로퍼티들은 const 키워드의 영향을 받지 않는다.  
```
const obj = { name: 'Jack' }
obj.name = 'John'
console.log(obj) // { name: 'John' }
```
  
### (2) const 키워드를 사용하는 경우 반드시 선언과 동시에 값을 할당해줘야 한다.  
```javascript
const test; // Uncaught SyntaxError: Missing initializer in const declaration
```
  


## 반복문에서의 var

```javascript
  const arr = [10, 12, 15, 21];
  for (var i = 0; i < arr.length; i++) {
    setTimeout(function() {
      console.log('The index of this number is: ' + i);
    }, 3000);  // 출력값: 4, 4, 4, 4
  }
```  
*  3 초가 지난 후에 클로저가 실행되고 i 값을 출력할 때 반복문의 종료 값인 4 를 출력


## [반복문에서의 let](http://exploringjs.com/es6/ch_variables.html#sec_let-const-loop-heads)
```javascript
 const arr = [10, 12, 15, 21];
  for (let i = 0; i < arr.length; i++) {
    setTimeout(function() {
      console.log('The index of this number is: ' + i);
    }, 3000);
  }
```
* ES6 의 let 은 함수가 호출 될 때 마다 인덱스 i 값이 바인딩 되는 새로운 바인딩 기법을 사용
